<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>Docs For Class User</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
			<div class="page-body">			
<h2 class="class-name">Class User</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
													<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
						|											<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
											<a href="#sec-const-summary">Constants</a> (<a href="#sec-consts">details</a>)
						
			</div>
	<div class="info-box-body">
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">walleye.user.php</p>
<p class="description"><p>The basic Walleye user class. This class provides functionality such as session handling, user creation,  user logging, and user updating.</p><p>The user model that you create for your application should extend this class.</p></p>
	<ul class="tags">
				<li><span class="field">author:</span> Jonathan Mayhak &lt;<a href="mailto:Jmayhak@gmail.com">Jmayhak@gmail.com</a>&gt;</li>
			</ul>
		<p class="notes">
			Located in <a class="field" href="_includes---core---walleye.user.php.html">/includes/core/walleye.user.php</a> (line <span class="field">16</span>)
		</p>
		
				
		<pre><a href="../Walleye/Model.html">Model</a>
   |
   --User</pre>
	
			</div>
</div>


	<a name="sec-const-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Class Constant Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
						<span class="disabled">Constants</span> (<a href="#sec-consts">details</a>)
												<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
				 
				|
										| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			<div class="const-summary">
								<div class="const-title">
					<img src="../media/images/Constant.png" alt=" " />
					<a href="#ID_OF_UNKNOWN_USER" title="details" class="const-name">ID_OF_UNKNOWN_USER</a> = 					<span class="var-type"> null</span>

				</div>
								<div class="const-title">
					<img src="../media/images/Constant.png" alt=" " />
					<a href="#USER_SESSION" title="details" class="const-name">USER_SESSION</a> = 					<span class="var-type"> 'user'</span>

				</div>
							</div>
		</div>
	</div>

	<a name="sec-var-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Variable Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
						<span class="disabled">Vars</span> (<a href="#sec-vars">details</a>)
							| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
															<a href="#sec-const-summary">Constants</a> (<a href="#sec-consts">details</a>)
							
					</div>
		<div class="info-box-body">
			<div class="var-summary">
																																<div class="var-title">
					<span class="var-type">string</span>
					<a href="#$firstName" title="details" class="var-name">$firstName</a>
				</div>
																<div class="var-title">
					<span class="var-type">string</span>
					<a href="#$lastName" title="details" class="var-name">$lastName</a>
				</div>
											</div>
		</div>
	</div>

	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-const-summary">Constants</a> (<a href="#sec-consts">details</a>)
							
															<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
				 
				|
						<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
																												<div class="method-definition">
					static 						<span class="method-result"><a href="../Walleye/User.html">User</a></span>
										<a href="#create" title="details" class="method-name">create</a>
											([<span class="var-type">string</span>&nbsp;<span class="var-name">$username</span> = <span class="var-default">null</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$password</span> = <span class="var-default">null</span>])
									</div>
																								<div class="method-definition">
					static 						<span class="method-result"><a href="../Walleye/User.html">User</a></span>
										<a href="#getLoggedUser" title="details" class="method-name">getLoggedUser</a>
										()
									</div>
																								<div class="method-definition">
					static 						<span class="method-result">boolean</span>
										<a href="#isUsernameUnique" title="details" class="method-name">isUsernameUnique</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$username</span>)
									</div>
																								<div class="method-definition">
					static 						<span class="method-result"><a href="../Walleye/User.html">User</a></span>
										<a href="#withId" title="details" class="method-name">withId</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$id</span>)
									</div>
																<div class="method-definition">
					static 						<span class="method-result"><a href="../Walleye/User.html">User</a></span>
										<a href="#withSession" title="details" class="method-name">withSession</a>
										()
									</div>
																<div class="method-definition">
					static 						<span class="method-result"><a href="../Walleye/User.html">User</a></span>
										<a href="#withUserName" title="details" class="method-name">withUserName</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$userName</span>)
									</div>
																<div class="method-definition">
					static 						<span class="method-result"><a href="../Walleye/User.html">User</a></span>
										<a href="#withUserNameAndPassword" title="details" class="method-name">withUserNameAndPassword</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$username</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$password</span>)
									</div>
																
												<div class="method-definition">
											<span class="method-result">boolean</span>
										<a href="#changePassword" title="details" class="method-name">changePassword</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$password</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">boolean</span>
										<a href="#commit" title="details" class="method-name">commit</a>
										()
									</div>
																								<div class="method-definition">
											<span class="method-result">string|int</span>
										<a href="#getId" title="details" class="method-name">getId</a>
										()
									</div>
																								<div class="method-definition">
											<span class="method-result">string</span>
										<a href="#getUsername" title="details" class="method-name">getUsername</a>
										()
									</div>
																								<div class="method-definition">
											<span class="method-result">User</span>
										<a href="#__construct" title="details" class="method-name">__construct</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$id</span>)
									</div>
																																																<div class="method-definition">
											<span class="method-result">string</span>
										<a href="#__toString" title="details" class="method-name">__toString</a>
										()
									</div>
								</div>
		</div>
	</div>		

	<a name="sec-vars"></a>
	<div class="info-box">
		<div class="info-box-title">Variables</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-var-summary">Vars</a> (<span class="disabled">details</span>)
						
			
												<a href="#sec-const-summary">Constants</a> (<a href="#sec-consts">details</a>)
							
										| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			<a name="var$firstName" id="$firstName"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">string</span>
			<span class="var-name">$firstName</span>
						(line <span class="line-number">54</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">The first name of the user in the Users table</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
<a name="var$lastName" id="$lastName"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">string</span>
			<span class="var-name">$lastName</span>
						(line <span class="line-number">60</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">The last name of the user in the Users table</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
						
		</div>
	</div>
	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
																			<a href="#sec-const-summary">Constants</a> (<a href="#sec-consts">details</a>)
							
										<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>
<a name="methodcreate" id="create"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">static method create</span> (line <span class="line-number">230</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Use this function to create a new user in the database. It will return null if the username is not unique.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
	    static
		<span class="method-result"><a href="../Walleye/User.html">User</a></span>
		<span class="method-name">
			create
		</span>
					([<span class="var-type">string</span>&nbsp;<span class="var-name">$username</span> = <span class="var-default">null</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$password</span> = <span class="var-default">null</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$username</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$password</span><span class="var-description">: send in hashed form. *DO NOT SEND CLEAR TEXT*</span>			</li>
				</ul>
		
			<hr class="separator" />
		<div class="notes">Redefinition of:</div>
		<dl>
			<dt><a href="../Walleye/Model.html#methodcreate">Model::create()</a></dt>
						<dd>Use this function to create a new row in the database for this instance of this model.</dd>
					</dl>
			
	</div>
<a name="methodgetLoggedUser" id="getLoggedUser"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">static method getLoggedUser</span> (line <span class="line-number">270</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns the currently logged in user via sessions.</p>
	<ul class="tags">
				<li><span class="field">see:</span> <a href="../Walleye/User.html#methodwithSession">User::withSession()</a></li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
	    static
		<span class="method-result"><a href="../Walleye/User.html">User</a></span>
		<span class="method-name">
			getLoggedUser
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodisUsernameUnique" id="isUsernameUnique"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">static method isUsernameUnique</span> (line <span class="line-number">285</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Checks if the passed string is unique in the Users table</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
	    static
		<span class="method-result">boolean</span>
		<span class="method-name">
			isUsernameUnique
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$username</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$username</span>			</li>
				</ul>
		
			
	</div>
<a name="methodwithId" id="withId"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">static method withId</span> (line <span class="line-number">100</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Creates a new user based on the id of the user in the Users table</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
	    static
		<span class="method-result"><a href="../Walleye/User.html">User</a></span>
		<span class="method-name">
			withId
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$id</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$id</span>			</li>
				</ul>
		
			<hr class="separator" />
		<div class="notes">Redefinition of:</div>
		<dl>
			<dt><a href="../Walleye/Model.html#methodwithId">Model::withId()</a></dt>
						<dd>Every model in your application should have a constructor that takes an id to initialize. All  the properties that can be set should be set in the constructor</dd>
					</dl>
			
	</div>
<a name="methodwithSession" id="withSession"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">static method withSession</span> (line <span class="line-number">116</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Creates the User model based on the session array. This IS the logged in user.</p>
<p class="description"><p>Use this constructor if the user is not doing something critical</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
	    static
		<span class="method-result"><a href="../Walleye/User.html">User</a></span>
		<span class="method-name">
			withSession
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodwithUserName" id="withUserName"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">static method withUserName</span> (line <span class="line-number">206</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Creates a new User based on the username.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
	    static
		<span class="method-result"><a href="../Walleye/User.html">User</a></span>
		<span class="method-name">
			withUserName
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$userName</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$userName</span>			</li>
				</ul>
		
			
	</div>
<a name="methodwithUserNameAndPassword" id="withUserNameAndPassword"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">static method withUserNameAndPassword</span> (line <span class="line-number">164</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Creates a new User based on the username and password pair. This IS the logged in user  Use this constructor to log in the user and if the user is doing something critical.</p>
<p class="description"><p>A new session is started.</p><p>This is where the session is created if the username/password are correct.</p><p>The password should be passed already hashed</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
	    static
		<span class="method-result"><a href="../Walleye/User.html">User</a></span>
		<span class="method-name">
			withUserNameAndPassword
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$username</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$password</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$username</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$password</span>			</li>
				</ul>
		
			
	</div>

<a name="methodchangePassword" id="changePassword"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">changePassword</span> (line <span class="line-number">306</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Change the password of a user. Assumes you have already checked if the user attempting to change  this user's password can peform this operation</p>
<p class="description"><p>The password MUST be sent hashed. DO NOT send the password cleartext to this function.</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			changePassword
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$password</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$password</span>			</li>
				</ul>
		
			
	</div>
<a name="methodcommit" id="commit"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">commit</span> (line <span class="line-number">255</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Call this function after you have updated properties in the object. This function  will NOT change a users username, id, registration date or password.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			commit
		</span>
				()
			</div>
	
		
			<hr class="separator" />
		<div class="notes">Redefinition of:</div>
		<dl>
			<dt><a href="../Walleye/Model.html#methodcommit">Model::commit()</a></dt>
						<dd>After you are done setting properties in your model call this function. Implement this function  by updating the object in the database.</dd>
					</dl>
			
	</div>
<a name="methodgetId" id="getId"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">getId</span> (line <span class="line-number">317</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string|int</span>
		<span class="method-name">
			getId
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodgetUsername" id="getUsername"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">getUsername</span> (line <span class="line-number">325</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			getUsername
		</span>
				()
			</div>
	
		
			
	</div>
<a name="method__construct" id="__construct"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">Constructor __construct</span> (line <span class="line-number">76</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Creates a new User based on the uid (not a logged in user).</p>
<p class="description"><p>DO NOT call this constructor directly.</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">User</span>
		<span class="method-name">
			__construct
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$id</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$id</span>			</li>
				</ul>
		
			
	</div>
<a name="method__toString" id="__toString"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">__toString</span> (line <span class="line-number">344</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Gives a string formatted as follows: id: '' userName: '' firstName: '' lastName: '' regDate: ''</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			__toString
		</span>
				()
			</div>
	
		
			<hr class="separator" />
		<div class="notes">Redefinition of:</div>
		<dl>
			<dt><a href="../Walleye/Model.html#method__toString">Model::__toString()</a></dt>
						<dd>Every model in your application should have a toString function. 5.1.6 does not support __toString</dd>
					</dl>
			
	</div>
							<h4>Inherited Methods</h4>
				<a name='inherited_methods'><!-- --></a>	
									<!-- =========== Summary =========== -->
					<p>Inherited From <span class="classname"><a href="../Walleye/Model.html">Model</a></span></p>
					<blockquote>
													<span class="method-name"><a href="../Walleye/Model.html#methodcommit">Model::commit()</a></span><br>
													<span class="method-name"><a href="../Walleye/Model.html#methodcreate">Model::create()</a></span><br>
													<span class="method-name"><a href="../Walleye/Model.html#methodwithId">Model::withId()</a></span><br>
													<span class="method-name"><a href="../Walleye/Model.html#method__toString">Model::__toString()</a></span><br>
											</blockquote>
										
		</div>
	</div>

	<a name="sec-consts"></a>
	<div class="info-box">
		<div class="info-box-title">Class Constants</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-var-summary">Constants</a> (<span class="disabled">details</span>)
						
			
												<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
														| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			<a name="constID_OF_UNKNOWN_USER" id="ID_OF_UNKNOWN_USER"><!-- --></A>
<div class="evenrow">

	<div class="const-header">
		<img src="../media/images/Variable.png" />
		<span class="const-title">
			<span class="const-name">ID_OF_UNKNOWN_USER</span>
			 = <span class="const-default"> null</span>
			(line <span class="line-number">27</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">The id of a user that was not found in the database</p>
	
	
</div>
<a name="constUSER_SESSION" id="USER_SESSION"><!-- --></A>
<div class="oddrow">

	<div class="const-header">
		<img src="../media/images/Variable.png" />
		<span class="const-title">
			<span class="const-name">USER_SESSION</span>
			 = <span class="const-default"> 'user'</span>
			(line <span class="line-number">22</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">The sessions key that is used to retrieve the session_key field in the Sessions table</p>
	
	
</div>
						
		</div>
	</div>

	<p class="notes" id="credit">
		Documentation generated on Tue, 22 Feb 2011 12:00:45 -0600 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.3</a>
	</p>
	</div></body>
</html>